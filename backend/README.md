Проект YaMDb
Описание
Проект YaMDb собирает отзывы пользователей на различные произведения.

Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка». Произведению может быть присвоен жанр из списка предустановленных.

Добавлять произведения, категории и жанры может только администратор.

Пользователи оставляют к произведениям текстовые отзывы и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.

Пользователи могут оставлять комментарии к отзывам. Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные пользователи.

Установка
Клонировать репозиторий и перейти в него в командной строке:

git clone git@github.com:PolianskaiaAnna/api_yamdb.git cd api_yamdb

Cоздать и активировать виртуальное окружение:

python3 -m venv env source env/bin/activate

Установить зависимости из файла requirements.txt:

python3 -m pip install --upgrade pip pip install -r requirements.txt

Перейти в папку проекта:

cd api_yamdb

Выполнить миграции:

python3 manage.py migrate

Запустить проект:

python3 manage.py runserver

Импорт данных из .csv файла
Для импорта данных из CSV файлов, которые находятся в папке api_yamdb/static/data, выполнить команду:

python3 manage.py importcsv

Регистрация пользователей
Пользователь отправляет POST-запрос на добавление нового пользователя с параметрами email и username на эндпоинт /api/v1/auth/signup/. YaMDB отправляет письмо с кодом подтверждения (confirmation_code) на адрес email.
Пользователь отправляет POST-запрос с параметрами username и confirmation_code на эндпоинт /api/v1/auth/token/, в ответе на запрос ему приходит token (JWT-токен).
При желании пользователь отправляет PATCH-запрос на эндпоинт /api/v1/users/me/ и заполняет поля в своём профайле.
Пользовательские роли
Аноним — может просматривать описания произведений, читать отзывы и комментарии.
Аутентифицированный пользователь (user) — может, как и Аноним, читать всё, дополнительно он может публиковать отзывы и ставить оценку произведениям, может комментировать чужие отзывы; может редактировать и удалять свои отзывы и комментарии. Эта роль присваивается по умолчанию каждому новому пользователю.
Модератор (moderator) — те же права, что и у Аутентифицированного пользователя плюс право удалять любые отзывы и комментарии.
Администратор (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
Суперюзер Django — обладет правами администратора (admin)
Использование
API доступно по адресу /api/v1/

API имеет следующие эндпоинты:
/api/v1/auth: аутентификация.
/api/v1/users: пользователи.
/api/v1/titles: произведения, к которым пишут отзывы (определённый фильм, книга или песенка).
/api/v1/categories: категории (типы) произведений («Фильмы», «Книги», «Музыка»). Одно произведение может быть привязано только к одной категории.
/api/v1/genres: жанры произведений. Одно произведение может быть привязано к нескольким жанрам.
/api/v1/reviews: отзывы на произведения. Отзыв привязан к определённому произведению.
/api/v1/comments: комментарии к отзывам. Комментарий привязан к определённому отзыву.